@model MvcMovie.Models.ViewInput

@{
    ViewBag.Title = "Manage Decision Tree";
}
<h2>@ViewBag.Title.</h2>
<h3>@ViewBag.Message</h3>

//var tableHeaderRowCount = 0;

<script>
    const { placeholder } = require("modernizr");

    function createExampleTable() {
        //alert(document.getElementById("mainTable").innerHTML);
        deleteTable();
        createTable(5, 15);
        var table = document.getElementById("mainTable");
        //var a = '<input type="text" name="Fname">';
        //table.rows[0].cells[0].innerHTML = "test";
        table.rows[0].cells[0].childNodes[0].value = "Credit History";
        table.rows[0].cells[1].childNodes[0].value = "Debt";
        table.rows[0].cells[2].childNodes[0].value = "Collateral";
        table.rows[0].cells[3].childNodes[0].value = "Income";
        table.rows[0].cells[4].childNodes[0].value = "Risk"
            ;
        table.rows[1].cells[0].childNodes[0].value = "BAD";
        table.rows[1].cells[1].childNodes[0].value = "HIGH";
        table.rows[1].cells[2].childNodes[0].value = "NO";
        table.rows[1].cells[3].childNodes[0].value = "< R15k";
        table.rows[1].cells[4].childNodes[0].value = "HIGH";

        table.rows[2].cells[0].childNodes[0].value = "UNKNOWN";
        table.rows[2].cells[1].childNodes[0].value = "HIGH";
        table.rows[2].cells[2].childNodes[0].value = "NO";
        table.rows[2].cells[3].childNodes[0].value = "R15k - R35k";
        table.rows[2].cells[4].childNodes[0].value = "HIGH";

        table.rows[3].cells[0].childNodes[0].value = "UNKNOWN";
        table.rows[3].cells[1].childNodes[0].value = "LOW";
        table.rows[3].cells[2].childNodes[0].value = "NO";
        table.rows[3].cells[3].childNodes[0].value = "R15k - R35k";
        table.rows[3].cells[4].childNodes[0].value = "MEDIUM";

        table.rows[4].cells[0].childNodes[0].value = "UNKNOWN";
        table.rows[4].cells[1].childNodes[0].value = "LOW";
        table.rows[4].cells[2].childNodes[0].value = "NO";
        table.rows[4].cells[3].childNodes[0].value = "< R15k";
        table.rows[4].cells[4].childNodes[0].value = "HIGH";

        table.rows[5].cells[0].childNodes[0].value = "UNKNOWN";
        table.rows[5].cells[1].childNodes[0].value = "LOW";
        table.rows[5].cells[2].childNodes[0].value = "NO";
        table.rows[5].cells[3].childNodes[0].value = "> R35k";
        table.rows[5].cells[4].childNodes[0].value = "LOW";

        table.rows[6].cells[0].childNodes[0].value = "UNKNOWN";
        table.rows[6].cells[1].childNodes[0].value = "LOW";
        table.rows[6].cells[2].childNodes[0].value = "YES";
        table.rows[6].cells[3].childNodes[0].value = "> R35k";
        table.rows[6].cells[4].childNodes[0].value = "LOW";

        table.rows[7].cells[0].childNodes[0].value = "BAD";
        table.rows[7].cells[1].childNodes[0].value = "LOW";
        table.rows[7].cells[2].childNodes[0].value = "NO";
        table.rows[7].cells[3].childNodes[0].value = "< R15k";
        table.rows[7].cells[4].childNodes[0].value = "HIGH";

        table.rows[8].cells[0].childNodes[0].value = "BAD";
        table.rows[8].cells[1].childNodes[0].value = "LOW";
        table.rows[8].cells[2].childNodes[0].value = "YES";
        table.rows[8].cells[3].childNodes[0].value = "> R35k";
        table.rows[8].cells[4].childNodes[0].value = "MEDIUM";

        table.rows[9].cells[0].childNodes[0].value = "GOOD";
        table.rows[9].cells[1].childNodes[0].value = "LOW";
        table.rows[9].cells[2].childNodes[0].value = "NO";
        table.rows[9].cells[3].childNodes[0].value = "> R35k";
        table.rows[9].cells[4].childNodes[0].value = "LOW";

        table.rows[10].cells[0].childNodes[0].value = "GOOD";
        table.rows[10].cells[1].childNodes[0].value = "HIGH";
        table.rows[10].cells[2].childNodes[0].value = "YES";
        table.rows[10].cells[3].childNodes[0].value = "> R35k";
        table.rows[10].cells[4].childNodes[0].value = "LOW";

        table.rows[11].cells[0].childNodes[0].value = "GOOD";
        table.rows[11].cells[1].childNodes[0].value = "HIGH";
        table.rows[11].cells[2].childNodes[0].value = "NO";
        table.rows[11].cells[3].childNodes[0].value = "< R15k";
        table.rows[11].cells[4].childNodes[0].value = "HIGH";

        table.rows[12].cells[0].childNodes[0].value = "GOOD";
        table.rows[12].cells[1].childNodes[0].value = "HIGH";
        table.rows[12].cells[2].childNodes[0].value = "NO";
        table.rows[12].cells[3].childNodes[0].value = "R15k - R35k";
        table.rows[12].cells[4].childNodes[0].value = "MEDIUM";

        table.rows[13].cells[0].childNodes[0].value = "GOOD";
        table.rows[13].cells[1].childNodes[0].value = "HIGH";
        table.rows[13].cells[2].childNodes[0].value = "NO";
        table.rows[13].cells[3].childNodes[0].value = "> R35k";
        table.rows[13].cells[4].childNodes[0].value = "LOW";

        table.rows[14].cells[0].childNodes[0].value = "BAD";
        table.rows[14].cells[1].childNodes[0].value = "HIGH";
        table.rows[14].cells[2].childNodes[0].value = "NO";
        table.rows[14].cells[3].childNodes[0].value = "R15k - R35k";
        table.rows[14].cells[4].childNodes[0].value = "HIGH";
    }

    function renewTable() {
        columns = document.getElementById("columns").value;
        rows = document.getElementById("rows").value;
        deleteTable();
        createTable(columns, rows);
    }

    function deleteTable() {
        var tableHeaderRowCount = 0;
        var table = document.getElementById('mainTable');
        var rowCount = table.rows.length;
        for (var i = tableHeaderRowCount; i < rowCount; i++) {
            table.deleteRow(tableHeaderRowCount);
        }
        var elem = document.getElementById("mainTable");
        elem.parentNode.removeChild(elem);
    }

    function createTable(columns, rows) {
        var body = document.getElementById("placeholder");
        tbl = document.createElement('table');
        tbl.id = 'mainTable';
        //tbl.setAttribute("id=mainTable");
        //tbl.id = "mainTable";
        //tbl.style.width = '100px';
        //tbl.style.border = '1px solid black';
        //tbl.border = "1";
        for (var i = 0; i < rows; i++) {
            var tr = tbl.insertRow();
            for (var j = 0; j < columns; j++) {
                var td = tr.insertCell();
                var input = document.createElement("input");
                input.type = "text";
                td.appendChild(input);
                //td.style.border = '1px solid black';
            }
        }
        body.appendChild(tbl);
    }

</script>

<ol>
    <li>Specify the number of rows and columns in the dataset</li>
    <li>Populate the dataset</li>
    <li>Click create decision tree to build the decision tree</li>
    <li>Create a new data entry and click calculate outcome</li>
</ol>

@using (Html.BeginForm("DecisionTree", "Home", FormMethod.Post))//(Action Name, Controller Name, FormMethod)
{

    <label for="fname">Columns:</label>
    @*<input type="text" id="columns" value="3">*@
    @Html.TextBoxFor(ms => ms.columns, new { @placeholder = "3" })
    <label for="lname">Rows:</label>
    @Html.TextBoxFor(ms => ms.rows, new { @placeholder = "3" })

    <div>
        <p><button type="button" onclick="renewTable()">Clear and Resize table</button></p>
    </div>

    <div>
        <p><button type="button" onclick="createExampleTable()">Example dataset</button></p>
    </div>

    <div id="placeholder">

    </div>



    <table id="mainTable">
        <tr>
            <td><input type="text"></td>
            @*@Html.TextBoxFor(m => m.dt.NewRow(), new { @class = "form-control", @placeholder = "ID" })*@
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
        </tr>
        <tr>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
        </tr>
        <tr>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
        </tr>
        <tr>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
        </tr>
        <tr>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
        </tr>
        <tr>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
        </tr>
        <tr>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
        </tr>
        <tr>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
        </tr>
        <tr>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
        </tr>
        <tr>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
        </tr>
        <tr>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
        </tr>
        <tr>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
        </tr>
        <tr>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
        </tr>
        <tr>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
        </tr>
        <tr>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
        </tr>
    </table>

    <div>
        <br><input type="submit" name="submit" class="btn btn-danger" value="Generate Decision Tree" />
    </div>

}